(function(d){var e={p_h:400,c_w:300};d.fn.zl_scrollBar=function(u){b(u);var o=100;var f=c();var j=d(this);var k=j.parent();var i=d("<div class='scroll-pane ui-widget'>");var g=d("<div class='scrollBarWrapDiv'/>");var r=d("<div class='scroll-bar-wrap ui-widget-content ui-corner-bottom'>");var n=d("<div class='upRoll'>");var p=d("<div class='downRoll'>");var q=j;var m=d("<div class='scroll-bar'>");m.appendTo(r);q.appendTo(i,k);g.appendTo(i,k);n.appendTo(g);r.appendTo(g);p.appendTo(g);i.appendTo(k);i.height(c().p_h);q.width(c().c_w);if(q.height()<i.height()){return}g.show();var t=m.slider({orientation:"vertical",value:100,slide:function(v,w){if(q.height()>i.height()){q.css("margin-top",Math.round((100-w.value)/100*(i.height()-q.height()))+"px")}else{q.css("margin-top",0)}o=w.value}});g.width(r.outerWidth());r.height(f.p_h-n.outerHeight(true)-p.outerHeight(true));n.width(r.outerWidth());p.width(r.outerWidth());var s=t.find(".ui-slider-handle").mousedown(function(){t.height(s.height());var v=r.height()-t.height();t.css({"margin-top":v+"px"});s.css({"margin-top":0+"px"})}).mouseup(function(){t.height("100%");var v=r.height()-s.height();t.css({"margin-top":0+"px"});s.css({"margin-top":v+"px"})}).append("<span class='ui-icon ui-icon-grip-dotted-horizontal'></span>").wrap("<div class='ui-handle-helper-parent'></div>").parent();var h=d(".ui-slider-handle",s);i.css({overflow:"hidden"});n.bind("mousedown",function(){if(o==100){return}if(q.height()>i.height()){q.css("margin-top",Math.round((100-(o+1))/100*(i.height()-q.height()))+"px");h.css("bottom",100-(100-(o+1))+"%")}else{q.css("margin-top",0);h.css("bottom",0)}o=o+1});p.bind("mousedown",function(){if(o==0){return}if(q.height()>i.height()){q.css("margin-top",Math.round((100-(o-1))/100*(i.height()-q.height()))+"px");h.css("bottom",100-(100-(o-1))+"%")}else{q.css("margin-top",0);h.css("bottom",0)}o=o-1});function l(){var x=q.height()-i.height();var y=x/q.height();var v=i.height()-(y*i.height());if(v<40){v=40}t.find(".ui-slider-handle").css({height:v,"margin-top":-(v/2)});s.height("").height(Number(t.height()-v-2).toFixed());var w=r.height()-s.height();s.css({"margin-top":w+"px"})}d(window).resize(function(){l()});setTimeout(l,10)};var a={};function b(f){e=d.extend({},e,f);return e}function c(){return e}})(jQuery);